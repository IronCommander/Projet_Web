(function(e){function t(t){for(var a,o,r=t[0],c=t[1],l=t[2],m=0,u=[];m<r.length;m++)o=r[m],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&u.push(s[o][0]),s[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);d&&d(t);while(u.length)u.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,r=1;r<n.length;r++){var c=n[r];0!==s[c]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},s={app:0},i=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var d=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);var a=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-app",{staticStyle:{background:'url("https://www.solidbackgrounds.com/download/2560x1440-blue-stained-glass-free-website-background-image.jpg") repeat'}},[n("Navbar"),n("p",{staticStyle:{"margin-top":"75px"}}),n("router-view")],1)],1)},i=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-app-bar",{attrs:{color:"light-blue accent-4",dark:"",fixed:"",app:"",src:"https://cdn.vuetifyjs.com/images/backgrounds/vbanner.jpg"}},[e.getAdminConnected?n("v-app-bar-nav-icon",{on:{click:e.toggleDrawer}}):e._e(),n("v-btn",{staticClass:"teal--text text--accent-2 title px-3",attrs:{text:"",height:"100%"},on:{click:e.basicsClicked}},[e._v("Basics")]),n("v-btn",{staticClass:"teal--text text--accent-2 title px-3",attrs:{text:"",height:"100%"},on:{click:e.defenseClicked}},[e._v("Defense")]),n("v-btn",{staticClass:"teal--text text--accent-2 title px-3",attrs:{text:"",height:"100%"},on:{click:e.foodClicked}},[e._v("Food ")]),n("v-btn",{staticClass:"teal--text text--accent-2 title px-3",attrs:{text:"",height:"100%"},on:{click:e.toolsClicked}},[e._v("Tools")]),n("v-spacer"),e.getAdminConnected?e._e():n("LoginDialog")],1),e.getDrawerStatus?n("v-navigation-drawer",{attrs:{app:"",color:"light-blue accent-4"}},[n("Drawer")],1):e._e()],1)},r=[],c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({staticClass:"light-blue accent-3"},a),[e._v("Connection")])]}}]),model:{value:e.loginDialog,callback:function(t){e.loginDialog=t},expression:"loginDialog"}},[n("v-card",[n("v-toolbar",{attrs:{color:"light-blue accent-3 mb-5"}},[n("v-toolbar-title",{staticClass:"white--text"},[e._v("Login Form")])],1),n("v-form",{staticClass:"px-3 ml-3 py-3"},[n("v-text-field",{staticClass:"mb-4",attrs:{label:"Name","prepend-icon":"mdi-account"},model:{value:e.infos.name,callback:function(t){e.$set(e.infos,"name",t)},expression:"infos.name"}}),n("v-text-field",{attrs:{label:"Password",type:"password","prepend-icon":"mdi-lock"},model:{value:e.infos.password,callback:function(t){e.$set(e.infos,"password",t)},expression:"infos.password"}}),n("p",{staticClass:"ml-12 red--text"},[e._v(e._s(e.getErrorMessage))]),n("v-card-actions",[n("v-spacer"),n("v-btn",{staticClass:" white--text px-4 mb-1",attrs:{color:"light-blue accent-3"},on:{click:function(t){return e.validateBtnClicked(e.infos)}}},[e._v("LOGIN")])],1)],1)],1)],1)},l=[],d=n("2f62"),m={data(){return{loginDialog:!1,infos:{name:"",password:""}}},methods:{...Object(d["b"])(["login"]),validateBtnClicked(e){this.getCloseConnectionDialog&&(this.loginDialog=!1),this.login(e)}},computed:{...Object(d["c"])(["getErrorMessage","getCloseConnectionDialog"])}},u=m,p=n("2877"),g=n("6544"),h=n.n(g),f=n("8336"),v=n("b0af"),b=n("99d9"),I=n("169a"),w=n("4bd4"),C=n("2fa4"),x=n("8654"),k=n("71d9"),_=n("2a7f"),y=Object(p["a"])(u,c,l,!1,null,null,null),$=y.exports;h()(y,{VBtn:f["a"],VCard:v["a"],VCardActions:b["a"],VDialog:I["a"],VForm:w["a"],VSpacer:C["a"],VTextField:x["a"],VToolbar:k["a"],VToolbarTitle:_["a"]});var S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-list",[n("v-list-item",[n("v-list-item-avatar",{attrs:{size:"62"}},[n("v-img",{staticClass:"ml-12",attrs:{src:e.getAdminInfos.icon}})],1),n("v-list-item-content",[n("v-list-item-title",{staticClass:"white--text text-uppercase ml-6 headline"},[e._v(e._s(e.getAdminInfos.name))])],1)],1),n("div",{staticClass:"pa-4 mt-4"},[n("v-btn",{staticClass:"title success mb-4",attrs:{block:""},on:{click:e.saveChanges}},[e._v("save")]),n("v-btn",{staticClass:"title error mb-4",attrs:{block:""},on:{click:e.cancelChanges}},[e._v("cancel")]),n("v-btn",{staticClass:"title mb-4 black white--text",attrs:{block:""},on:{click:e.logout}},[e._v("Logout")])],1)],1)},j=[],E={computed:{...Object(d["c"])(["getAdminInfos"])},methods:{...Object(d["b"])(["logout","saveChanges","cancelChanges"])}},O=E,B=n("adda"),D=n("8860"),M=n("da13"),V=n("8270"),A=n("5d23"),L=Object(p["a"])(O,S,j,!1,null,null,null),T=L.exports;h()(L,{VBtn:f["a"],VImg:B["a"],VList:D["a"],VListItem:M["a"],VListItemAvatar:V["a"],VListItemContent:A["a"],VListItemTitle:A["b"]});var R={data(){return{drawer:!1}},methods:{basicsClicked(){this.$router.replace("/basics")},defenseClicked(){this.$router.replace("/defense")},foodClicked(){this.$router.replace("/food")},toolsClicked(){this.$router.replace("/tools")},...Object(d["b"])(["toggleDrawer"])},computed:{...Object(d["c"])(["getAdminConnected","getDrawerStatus"])},components:{LoginDialog:$,Drawer:T}},U=R,N=n("40dc"),F=n("5bc1"),P=n("f774"),J=Object(p["a"])(U,o,r,!1,null,null,null),z=J.exports;h()(J,{VAppBar:N["a"],VAppBarNavIcon:F["a"],VBtn:f["a"],VNavigationDrawer:P["a"],VSpacer:C["a"]});var G={name:"App",components:{Navbar:z},data:()=>({}),methods:{},mounted(){}},q=G,H=n("7496"),K=Object(p["a"])(q,s,i,!1,null,null,null),Q=K.exports;h()(K,{VApp:H["a"]});var W=n("f309");a["a"].use(W["a"]);var X=new W["a"]({icons:{iconfont:"mdi"}}),Y=n("bc3a"),Z=n.n(Y),ee=n("a7fe"),te=n.n(ee),ne={state:{basicItems:[],defenseItems:[],toolItems:[],foodItems:[],addElementError:""},actions:{createItem({commit:e,rootState:t},n){Z.a.post(`${t.apiURL}/api/items/{"whichItems":"${n.type}"}`,n).then(t=>{e("createItem",t.data)}).catch(t=>{e("createItem",t.response.data),console.log("erreur create: ",t.response.data)})},initItems({commit:e,rootState:t},n){Z.a.get(`${t.apiURL}/api/items/{"whichItems":"${n.whichItems}"}`).then(n=>{e("initItems",n.data),t.adminConnected=n.data.adminConnected,n.data.infos&&(t.user=n.data.infos)}).catch(e=>{console.log(`erreur retrieve ${n.whichItems} ${e.response.data}`)})},updateItem({commit:e,rootState:t},n){Z.a.put(`${t.apiURL}/api/items/{"whichItems":"${n.type}"}`,n).catch(a=>{t.adminConnected=!1,e("updateItem",{error:a.response.data,item:n})})},deleteItem({commit:e,rootState:t},n){Z.a.delete(`${t.apiURL}/api/items/{"id":${n.id},"whichItems":"${n.type}"}`).then(t=>{e("initItems",t.data)}).catch(e=>{t.adminConnected=!1,console.log("erreur delete: ",e.response.data)})},saveChanges({rootState:e}){Z.a.post(`${e.apiURL}/api/items/{"whichItems":"save"}`).catch(e=>{console.log("erreur save: ",e.response.data)})},cancelChanges({commit:e,rootState:t}){Z.a.post(`${t.apiURL}/api/items/{"whichItems":"cancel"}`).then(t=>{e("cancelChanges",t.data),console.log(t.data)}).catch(e=>{console.log("erreur cancel: ",e.response.data)})}},mutations:{createItem(e,t){t.error?e.addElementError=t.error:(e[t.type]=t,e.addElementError="")},initItems(e,t){e[t.type]=t},updateItem(e,t){t.item.enModif=!0,console.log("error lors de l'update",t.error)},cancelChanges(e,t){e["basicItems"]=t.basicItems,e["defenseItems"]=t.defenseItems,e["foodItems"]=t.foodItems,e["toolItems"]=t.toolItems}},getters:{getBasicItems(e){return e.basicItems},getDefenseItems(e){return e.defenseItems},getFoodItems(e){return e.foodItems},getToolItems(e){return e.toolItems},getAddElementError(e){return e.addElementError}}},ae={state:{errorMessage:"",closeConnectionDialog:!1},actions:{login({commit:e,rootState:t},n){Z.a.post(`${t.apiURL}/api/connection/login`,n).then(n=>{t.adminConnected=!0,e("login",n.data),t.user=n.data.infos}).catch(t=>e("login",t.response.data))},logout({rootState:e}){Z.a.post(`${e.apiURL}/api/connection/logout`).then(t=>{e.adminConnected=!1,e.drawer=!1,this.closeConnectionDialog=!0}).catch(e=>console.log(e.response.data))}},mutations:{login(e,t){t.error?e.errorMessage=t:e.errorMessage="",console.log("essaie login, serv renvoi:",t)}},getters:{getErrorMessage(e){return e.errorMessage},getCloseConnectionDialog(e){return e.closeConnectionDialog}}};a["a"].use(d["a"]);const se=new d["a"].Store({state:{adminConnected:!1,user:{name:"",icon:""},drawer:!1,apiURL:""},modules:{itemsModule:ne,connectionModule:ae},actions:{toggleDrawer({commit:e}){e("toggleDrawer")}},mutations:{toggleDrawer(e){e.drawer=!e.drawer}},getters:{getAdminConnected(e){return e.adminConnected},getDrawerStatus(e){return e.drawer},getAdminInfos(e){return e.user}}});var ie=n("8c4f"),oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ShowItems",{attrs:{itemsType:"basicItems",items:e.getBasicItems.items},on:{deleteBtnClicked:e.deleteItem,saveBtnClicked:e.updateItem,addElementBtnClicked:e.createItem}})},re=[],ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{"max-width":"80%","margin-left":"auto","margin-right":"auto","text-align":"center"}},[n("table",{staticClass:"my-5"},[e._m(0),n("tbody",[e._l(e.items,(function(t,a){return n("tr",{key:t.id},[t.enModif?e._e():n("td",{staticClass:"title"},[e._v(e._s(t.name))]),t.enModif?e._e():n("td",{staticClass:"title",attrs:{id:"tdIngredients"}},[e._v(e._s(t.ingredients))]),t.enModif?e._e():n("td",{staticClass:"title"},[n("img",{attrs:{src:t.icon,width:"204px",height:"112px"}})]),t.enModif?e._e():n("td",{staticClass:"title"},[e._v(e._s(t.description))]),e.getAdminConnected?[t.enModif?[n("td",[n("v-text-field",{attrs:{label:"Name"},model:{value:t.name,callback:function(n){e.$set(t,"name",n)},expression:"item.name"}})],1),n("td",{staticClass:"ingredientsCol"},[n("v-text-field",{attrs:{label:"Ingredients"},model:{value:t.ingredients,callback:function(n){e.$set(t,"ingredients",n)},expression:"item.ingredients"}})],1),n("td",[n("v-text-field",{attrs:{label:"Image URL"},model:{value:t.icon,callback:function(n){e.$set(t,"icon",n)},expression:"item.icon"}})],1),n("td",[n("v-text-field",{attrs:{label:"Description"},model:{value:t.description,callback:function(n){e.$set(t,"description",n)},expression:"item.description"}})],1),t.enModif?n("v-btn",{staticClass:"mx-2 my-4",staticStyle:{display:"block"},attrs:{fab:"",dark:"",small:"",color:"success"},on:{click:function(t){return e.saveBtnClicked(a)}}},[n("v-icon",{attrs:{dark:""}},[e._v("mdi-check")])],1):e._e()]:e._e(),n("v-btn",{staticClass:"mx-2 my-4 mt-5 red accent-3",staticStyle:{display:"block"},attrs:{fab:"",dark:"",small:""},on:{click:function(t){return e.deleteBtnClicked(a)}}},[n("v-icon",{attrs:{dark:""}},[e._v("mdi-minus")])],1),t.enModif?e._e():[t.enModif?e._e():n("v-btn",{staticClass:"mx-2 my-4",staticStyle:{display:"block"},attrs:{fab:"",dark:"",small:"",color:"warning"},on:{click:function(e){t.enModif=!0}}},[n("v-icon",{attrs:{dark:""}},[e._v("mdi-pencil")])],1)]]:e._e()],2)})),e.getAdminConnected?n("tr",[n("td",[n("v-text-field",{attrs:{label:"Name"},model:{value:e.newItem.name,callback:function(t){e.$set(e.newItem,"name",t)},expression:"newItem.name"}})],1),n("td",{staticClass:"ingredientsCol"},[n("v-text-field",{attrs:{label:"Ingredients"},model:{value:e.newItem.ingredients,callback:function(t){e.$set(e.newItem,"ingredients",t)},expression:"newItem.ingredients"}})],1),n("td",[n("v-text-field",{attrs:{label:"Image URL"},model:{value:e.newItem.icon,callback:function(t){e.$set(e.newItem,"icon",t)},expression:"newItem.icon"}})],1),n("td",[n("v-text-field",{attrs:{label:"Description"},model:{value:e.newItem.description,callback:function(t){e.$set(e.newItem,"description",t)},expression:"newItem.description"}})],1),n("v-btn",{staticClass:"mx-2 mt-6",attrs:{fab:"",dark:"",small:"",color:"teal accent-3"},on:{click:e.addElementBtnClicked}},[n("v-icon",{attrs:{dark:""}},[e._v("mdi-plus")])],1)],1):e._e()],2)]),n("p",{staticClass:"red--text text--darken-3 text-uppercase title"},[e._v(e._s(e.getAddElementError))])])},le=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("th",{staticStyle:{width:"220px","border-left":"3px solid #0091EA"}},[e._v("Name")]),n("th",{staticStyle:{width:"400px"}},[e._v("Ingredients")]),n("th",{staticStyle:{width:"200px"}},[e._v("Image")]),n("th",{staticStyle:{width:"400px","border-right":"3px solid #0091EA"}},[e._v("Description")])])}],de={props:["items","itemsType"],data(){return{newItem:{}}},mounted(){console.log("items recup dans showitems:",this.items)},methods:{saveBtnClicked(e){this.items[e].enModif=!this.items[e].enModif,this.$emit("saveBtnClicked",this.items[e])},deleteBtnClicked(e){this.$emit("deleteBtnClicked",this.items[e])},addElementBtnClicked(){this.newItem.name=this.newItem.name||"",this.newItem.icon=this.newItem.icon||"",this.newItem.description=this.newItem.description||"",this.newItem.ingredients=this.newItem.ingredients||"",this.newItem.enModif=!1,this.newItem.type=this.itemsType||"basicItems",this.$emit("addElementBtnClicked",this.newItem),this.newItem={}}},computed:{...Object(d["c"])(["getAdminConnected","getAddElementError"])}},me=de,ue=(n("7c03"),n("132d")),pe=Object(p["a"])(me,ce,le,!1,null,"7b4c45d3",null),ge=pe.exports;h()(pe,{VBtn:f["a"],VIcon:ue["a"],VTextField:x["a"]});var he={components:{ShowItems:ge},data(){return{}},computed:{...Object(d["c"])(["getBasicItems"])},methods:{...Object(d["b"])(["initItems","updateItem","createItem","deleteItem"])},created(){this.initItems({whichItems:"basicItems"})}},fe=he,ve=Object(p["a"])(fe,oe,re,!1,null,null,null),be=ve.exports,Ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ShowItems",{attrs:{itemsType:"defenseItems",items:e.getDefenseItems.items},on:{deleteBtnClicked:e.deleteItem,saveBtnClicked:e.updateItem,addElementBtnClicked:e.createItem}})},we=[],Ce={components:{ShowItems:ge},data(){return{}},computed:{...Object(d["c"])(["getDefenseItems"])},methods:{...Object(d["b"])(["initItems","updateItem","createItem","deleteItem"])},mounted(){this.initItems({whichItems:"defenseItems"})}},xe=Ce,ke=Object(p["a"])(xe,Ie,we,!1,null,null,null),_e=ke.exports,ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ShowItems",{attrs:{itemsType:"foodItems",items:e.getFoodItems.items},on:{deleteBtnClicked:e.deleteItem,saveBtnClicked:e.updateItem,addElementBtnClicked:e.createItem}})},$e=[],Se={components:{ShowItems:ge},data(){return{}},computed:{...Object(d["c"])(["getFoodItems"])},methods:{...Object(d["b"])(["initItems","updateItem","createItem","deleteItem"])},mounted(){this.initItems({whichItems:"foodItems"})}},je=Se,Ee=Object(p["a"])(je,ye,$e,!1,null,null,null),Oe=Ee.exports,Be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ShowItems",{attrs:{itemsType:"toolItems",items:e.getToolItems.items},on:{deleteBtnClicked:e.deleteItem,saveBtnClicked:e.updateItem,addElementBtnClicked:e.createItem}})},De=[],Me={components:{ShowItems:ge},data(){return{}},computed:{...Object(d["c"])(["getToolItems"])},methods:{...Object(d["b"])(["initItems","updateItem","createItem","deleteItem"])},mounted(){this.initItems({whichItems:"toolItems"})}},Ve=Me,Ae=Object(p["a"])(Ve,Be,De,!1,null,null,null),Le=Ae.exports,Te=[{path:"/",redirect:"/basics"},{path:"/basics",component:be},{path:"/defense",component:_e},{path:"/food",component:Oe},{path:"/tools",component:Le}];a["a"].config.productionTip=!1,Z.a.defaults.withCredentials=!0,a["a"].use(te.a,Z.a),a["a"].use(ie["a"]);const Re=new ie["a"]({routes:Te});new a["a"]({router:Re,store:se,vuetify:X,render:e=>e(Q)}).$mount("#app")},"7c03":function(e,t,n){"use strict";var a=n("db76"),s=n.n(a);s.a},db76:function(e,t,n){}});
//# sourceMappingURL=app.9e4f7035.js.map